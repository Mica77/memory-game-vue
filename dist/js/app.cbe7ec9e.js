(function(e){function t(t){for(var a,s,o=t[0],i=t[1],u=t[2],l=0,f=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(f.length)f.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],a=!0,o=1;o<r.length;o++){var i=r[o];0!==n[i]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},c=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=i;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0162":function(e,t,r){"use strict";r("387d")},"0858":function(e,t,r){},"387d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n={class:"content"},c={class:"header"},s=Object(a["g"])("h1",null,"Memo game",-1);function o(e,t,r,o,i,u){var d=Object(a["p"])("game-timer"),l=Object(a["p"])("cards-area"),f=Object(a["p"])("game-results");return Object(a["k"])(),Object(a["f"])("div",n,[Object(a["g"])("div",c,[s,Object(a["u"])(Object(a["i"])(d,{onStartGame:t[0]||(t[0]=function(t){return e.$store.dispatch("startGame")}),allowStartGame:!!e.$store.getters.allowStartGame,timerText:e.$store.getters.timerText},null,8,["allowStartGame","timerText"]),[[a["r"],e.$store.state.cards.loadingComplete]])]),Object(a["u"])(Object(a["i"])(l,{cards:e.$store.state.cards.cards,cardFaceDownUrl:e.$store.state.cards.cardFaceDownUrl,onOpenCard:u.openCard},null,8,["cards","cardFaceDownUrl","onOpenCard"]),[[a["r"],e.$store.state.cards.loadingComplete]]),Object(a["i"])(f,{results:e.$store.getters.results},null,8,["results"])])}var i={class:"cards"};function u(e,t,r,n,c,s){var o=Object(a["p"])("card-item");return Object(a["k"])(),Object(a["f"])("div",i,[(Object(a["k"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(r.cards,(function(t){return Object(a["k"])(),Object(a["d"])(o,{card:t,key:t.id,cardFaceDownUrl:r.cardFaceDownUrl,onOpenCard:function(r){return e.$emit("openCard",t)}},null,8,["card","cardFaceDownUrl","onOpenCard"])})),128))])}var d={class:"card"},l=["src"],f=["src"];function m(e,t,r,n,c,s){return Object(a["k"])(),Object(a["f"])("div",d,[Object(a["i"])(a["b"],{name:"overturn"},{default:Object(a["t"])((function(){return[r.card.isOpen?(Object(a["k"])(),Object(a["f"])("img",{key:0,src:r.card.imageUrl},null,8,l)):(Object(a["k"])(),Object(a["f"])("img",{key:1,src:r.cardFaceDownUrl,onClick:t[0]||(t[0]=function(t){return e.$emit("openCard",r.card)})},null,8,f))]})),_:1})])}var p={name:"CardItem",props:{card:{type:Object,required:!0},cardFaceDownUrl:{type:String,required:!0}}},b=(r("db6f"),r("6b0d")),O=r.n(b);const j=O()(p,[["render",m],["__scopeId","data-v-6c3bf894"]]);var v=j,h={components:{CardItem:v},name:"CardsArea",props:{cards:{type:Array,required:!0},cardFaceDownUrl:{type:String,required:!0}}};r("af6b");const g=O()(h,[["render",u],["__scopeId","data-v-fcc686f2"]]);var C=g,y={class:"game-timer"},w={class:"timer"};function k(e,t,r,n,c,s){return Object(a["k"])(),Object(a["f"])("div",y,[r.allowStartGame?(Object(a["k"])(),Object(a["f"])("button",{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("startGame")})}," Start ")):Object(a["e"])("",!0),Object(a["g"])("div",w,Object(a["q"])(r.timerText),1)])}var S={props:{allowStartGame:{type:Boolean,required:!0},timerText:{type:String}}};r("0162");const I=O()(S,[["render",k],["__scopeId","data-v-1540dbd6"]]);var T=I,G=Object(a["g"])("h1",null,"Results",-1),F={class:"game-results"};function x(e,t,r,n,c,s){var o=Object(a["p"])("game-result");return Object(a["u"])((Object(a["k"])(),Object(a["f"])("div",null,[G,Object(a["g"])("div",F,[(Object(a["k"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(r.results,(function(e){return Object(a["k"])(),Object(a["d"])(o,{key:e.id,result:e,isTheBest:r.results.length>1&&e.timerValue==s.bestTimerValue},null,8,["result","isTheBest"])})),128))])],512)),[[a["r"],r.results.length]])}var D=r("2909"),$=(r("d81d"),{class:"game-result"}),_={class:"best"};function U(e,t,r,n,c,s){return Object(a["k"])(),Object(a["f"])("div",$,[Object(a["h"])(Object(a["q"])(r.result.timerText)+" ",1),Object(a["u"])(Object(a["g"])("span",_," The best!!!",512),[[a["r"],r.isTheBest]])])}var V={props:{result:{type:Object,required:!0},isTheBest:{type:Boolean}}};r("fb4b");const M=O()(V,[["render",U],["__scopeId","data-v-5ef4b90b"]]);var q=M,A={components:{GameResult:q},props:{results:{type:Array,required:!0}},computed:{bestTimerValue:function(){var e=this.results.map((function(e){return e.timerValue}));return Math.min.apply(Math,Object(D["a"])(e))}}};const R=O()(A,[["render",x]]);var L=R,P={name:"App",components:{CardsArea:C,GameTimer:T,GameResults:L},methods:{fetchCards:function(){this.$store.dispatch("fetchCards")},openCard:function(e){this.$store.dispatch("openCard",e)}},mounted:function(){this.fetchCards(),this.$store.dispatch("addResult",200),this.$store.dispatch("addResult",270)}};r("85b9");const B=O()(P,[["render",o]]);var J=B,N=r("5502"),z=r("1da1"),E=(r("99af"),r("96cf"),r("bc3a")),H=r.n(E),K={shuffle:function(e){var t,r=e.length;while(0!=r){t=Math.floor(Math.random()*r),r--;var a=[e[t],e[r]];e[r]=a[0],e[t]=a[1]}return e},deepClone:function(e){return JSON.parse(JSON.stringify(e))}},Q={state:function(){return{initialCards:[],loadingComplete:!1,selectedCard:null,isLockForOpenCard:!1,cards:[],cardFaceDownUrl:"./img/cardFaceDown.JFIF"}},getters:{gameIsOver:function(e){return!e.cards.some((function(e){return!e.isDone}))}},mutations:{setLoadingComplete:function(e,t){e.loadingComplete=t},setIinitialCards:function(e,t){e.initialCards=t},setSelectedCard:function(e,t){e.selectedCard=t},setIsLockForOpenCard:function(e,t){e.isLockForOpenCard=t},setCards:function(e,t){e.cards=t}},actions:{fetchCards:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state,r=e.commit,a=e.dispatch,t.prev=1,t.next=4,H.a.get("cards.json");case 4:n=t.sent,r("setIinitialCards",n.data),a("shuffleCards");case 7:return t.prev=7,r("setLoadingComplete",!0),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[1,,7,10]])})))()},openCard:function(e,t){var r=e.state,a=e.commit,n=e.dispatch,c=e.rootState;if(c.game.gameIsStarted||n("startGame"),!r.isLockForOpenCard&&!t.isDone)if(t.isOpen=!0,r.selectedCard){a("setIsLockForOpenCard",!0);var s=1e3;setTimeout((function(){a("setIsLockForOpenCard",!1),r.selectedCard.cardId==t.cardId?(r.selectedCard.isDone=!0,t.isDone=!0):(r.selectedCard.isOpen=!1,t.isOpen=!1),a("setSelectedCard",null)}),s)}else a("setSelectedCard",t)},shuffleCards:function(e){var t=e.state,r=e.commit,a=(e.dispatch,[].concat(Object(D["a"])(t.initialCards),Object(D["a"])(K.deepClone(t.initialCards))));a=a.map((function(e,t){return{id:t,cardId:e.id,imageUrl:e.imageUrl}})),a=K.shuffle(a),r("setCards",a)}}},W={formatTimer:function(e){var t=Math.floor(e/60/60),r=Math.floor((e-60*t*60)/60),a=e-60*t*60-60*r;function n(e){return 1==(e+"").length?"0"+e:e}return"".concat(n(t),":").concat(n(r),":").concat(n(a))}},X={state:function(){return{timerValue:0,gameIsStarted:!1}},getters:{timerText:function(e){return W.formatTimer(e.timerValue)},allowStartGame:function(e){return!e.gameIsStarted||e.gameIsOver}},mutations:{setTimerValue:function(e,t){e.timerValue=t},setGameIsStarted:function(e,t){e.gameIsStarted=t}},actions:{startGame:function(e){var t=e.state,r=e.commit,a=e.dispatch,n=e.rootGetters;n.gameIsOver&&a("shuffleCards"),r("setTimerValue",0),r("setGameIsStarted",!0);var c=setInterval((function(){r("setTimerValue",t.timerValue+1),n.gameIsOver&&(clearInterval(c),a("stopGame"))}),1e3)},stopGame:function(e){var t=e.state,r=e.commit,a=e.dispatch;r("setGameIsStarted",!1),a("addResult",t.timerValue)}}},Y={state:function(){return{resultsArray:[]}},getters:{results:function(e){return Object(D["a"])(e.resultsArray).reverse()}},mutations:{add:function(e,t){e.resultsArray.push(t)}},actions:{addResult:function(e,t){var r=e.state,a=e.commit,n={id:r.resultsArray.length+1,timerValue:t,timerText:W.formatTimer(t)};a("add",n)}}},Z=Object(N["a"])({modules:{cards:Q,game:X,results:Y}});Object(a["c"])(J).use(Z).mount("#app")},"63f9":function(e,t,r){},"85b9":function(e,t,r){"use strict";r("cc84")},af6b:function(e,t,r){"use strict";r("0858")},b5ed:function(e,t,r){},cc84:function(e,t,r){},db6f:function(e,t,r){"use strict";r("63f9")},fb4b:function(e,t,r){"use strict";r("b5ed")}});
//# sourceMappingURL=app.cbe7ec9e.js.map